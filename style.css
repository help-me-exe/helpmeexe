body {
    background: url('xp-bg.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #000;
    font-family: 'Tahoma', sans-serif;
    margin: 0;
    overflow: hidden;
}

@keyframes glitch {
    0% { transform: translate(0, 0); }
    20% { transform: translate(-1px, 1px); }
    40% { transform: translate(1px, -1px); }
    60% { transform: translate(-1px, -1px); }
    80% { transform: translate(1px, 1px); }
    100% { transform: translate(0, 0); }
}

@keyframes flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000080;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    animation: glitch 2s infinite;
}

.loader {
    text-align: center;
}

.loader h1 {
    font-size: 48px;
    text-shadow: 0 0 5px #000;
    color: #008080;
    animation: flicker 1s infinite;
}

#progress-bar-container {
    width: 300px;
    height: 20px;
    background: #ccc;
    margin: 20px auto;
    border: 1px solid #888;
}

#progress-bar {
    width: 0;
    height: 100%;
    background: #0078D7;
    transition: width 0.5s ease-in-out;
    animation: glitch 2s infinite;
}

#desktop {
    position: absolute;
    width: 100%;
    height: calc(100vh - 40px);
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    justify-content: space-around;
    padding: 20px;
    animation: flicker 1s infinite;
}

#taskbar {
    position: fixed;
    bottom: 0;
    width: 100%;
    height: 40px;
    background: #00008b;
    color: #fff;
    display: flex;
    align-items: center;
    padding: 0 10px;
    font-weight: bold;
    animation: flicker 1s infinite;
}

#start-button {
    background: #0078D7;
    padding: 6px 15px;
    border-radius: 3px;
    cursor: pointer;
    font-weight: bold;
    color: #fff;
    border: none;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    transition: background 0.3s ease;
}

#start-button:hover {
    background: #005bb5;
}

#start-menu {
    position: absolute;
    bottom: 50px;
    left: 10px;
    background: #c0c0c0;
    border: 2px solid #000;
    padding: 10px;
    display: none;
    width: 200px;
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

#start-menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

#start-menu li {
    padding: 8px;
    cursor: pointer;
    background: #fff;
    margin-bottom: 3px;
    font-weight: bold;
    font-size: 14px;
    border-radius: 3px;
    transition: background 0.3s ease;
}

#start-menu li:hover {
    background: #ddd;
}

.desktop-icon {
    width: 120px;
    text-align: center;
    color: #000;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    margin: 10px;
    transition: transform 0.3s ease;
}

.desktop-icon:hover {
    transform: scale(1.05);
}

.emoji-icon {
    font-size: 60px;
    display: block;
    margin: 0 auto;
}

.window {
    position: absolute;
    width: 400px;
    background: #fff;
    color: #000;
    border: 2px solid #000;
    display: none;
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
    padding: 10px;
    top: 50px;
    left: 50px;
    cursor: move;
    transition: top 0.3s ease, left 0.3s ease;
    animation: windowOpen 0.3s ease-out;
}

@keyframes windowOpen {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

.title-bar {
    background: #00008b;
    color: #fff;
    padding: 5px;
    font-weight: bold;
    text-align: center;
    cursor: move;
}

.close-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: red;
    color: #fff;
    border: none;
    cursor: pointer;
    padding: 5px;
    font-weight: bold;
    transition: background 0.3s ease;
}

.close-btn:hover {
    background: #b30000;
}

#chatbox {
    background: #ddd;
    height: 200px;
    overflow-y: auto;
    padding: 10px;
    border: 1px solid #000;
    margin-bottom: 10px;
    color: #000;
}

#userInput {
    width: 80%;
    padding: 6px;
    border: 1px solid #000;
    font-size: 14px;
    transition: border-color 0.3s ease;
}

#userInput:focus {
    border-color: #0078D7;
}

button {
    padding: 6px 15px;
    background: #0078D7;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s ease;
}

button:hover {
    background: #005bb5;
}

#bsod {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000080;
    color: #fff;
    font-family: 'Courier New', Courier, monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    z-index: 1000;
    animation: flicker 1s infinite;
}

#bsod::before {
    content: "A problem has been detected and Windows has been shut down to prevent damage to your computer.\n\nHELP_ME.EXE 404\n\nIf this is the first time you've seen this Stop error screen, restart your computer. If this screen appears again, follow these steps:\n\nCheck to make sure any new hardware or software is properly installed. If this is a new installation, ask your hardware or software manufacturer for any Windows updates you might need.\n\nIf problems continue, disable or remove any newly installed hardware or software. Disable BIOS memory options such as caching or shadowing. If you need to use Safe Mode to remove or disable components, restart your computer, press F8 to select Advanced Startup Options, and then select Safe Mode.\n\nTechnical information:\n\n*** STOP: 0x000000404 (0x00000001, 0x00000002, 0x00000003, 0x00000004)\n\nHELP_ME.EXE - Address 0xFFFFFFF4 base at 0xFFFFF800, DateStamp 0x00000000";
    white-space: pre-wrap;
    text-align: left;
    padding: 20px;
}

#error-popup-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
}

.error-popup {
    position: absolute;
    background: #fff;
    border: 2px solid red;
    padding: 10px;
    max-width: 300px;
    box-shadow: 5px 5px 15px rgba(255, 0, 0, 0.5);
    transition: opacity 0.5s ease;
    animation: errorBlink 0.5s infinite;
}

@keyframes errorBlink {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}
